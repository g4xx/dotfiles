plugins=(
	git
	sudo
	web-search
	zsh-autosuggestions
	fast-syntax-highlighting
	copyfile
	copybuffer
	dirhistory
)

source $ZSH/oh-my-zsh.sh
source <(fzf --zsh)

HISTFILE=~/.zsh_history
HISTSIZE=10000
SAVEHIST=10000
setopt appendhistory

eval "$(starship init zsh)"

bindkey -v
export KEYTIMEOUT=1

# Vi mode indicator â€” only show in NORMAL mode
function zsh_mode_indicator() {
    [[ $KEYMAP == vicmd ]] && echo "%F{red}-- NORMAL --%f"
}

# Set right prompt dynamically
RPROMPT='$(zsh_mode_indicator)'

# Optional: still keep zle hook so it updates immediately on mode change
function zle-keymap-select {
    zle reset-prompt
}
zle -N zle-keymap-select
